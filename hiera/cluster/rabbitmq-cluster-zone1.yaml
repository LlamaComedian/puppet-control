classes:
  - 'rabbit'

rabbit::version: 3.6.9
rabbit::cluster_name: rabbit-cluster-zone1
rabbit::cluster_data_nic:  eth1
rabbit::cluster_nodes:  ['server5', 'server6']
rabbit::erlang_cookie:  "52J3TP2U765WLRZPVF4M"

rabbit::default_user:  "wabbit"
rabbit::default_pass:  "CXTD6EMPJW2HYK58"
rabbit::default_vhost:  "lr-hare"

rabbit::hosts:
  server5:
    host_aliases: ['server5', 'rabbit']
    ip: 192.168.42.31
  server6:
    host_aliases: ['server6', 'rabbit']
    ip: 192.168.42.32

rabbit::config_variables:
  'log_levels': '[{connection, debug}, {channel, debug}]'


rabbit::rabbitmq_users:
  'logstash_zone1':
    admin: false
    password: '3CB54FY3JKXTRG5J'
    tags: 'logging'

rabbit::rabbitmq_user_permissions:
  'logstash_zone1@lr-hare':
    configure_permission: '.*'
    read_permission: '.*'
    write_permission: '.*'

rabbit::rabbitmq_queues:
  'logstash_queue_zone1@lr-hare':
    user: 'wabbit'
    password: 'CXTD6EMPJW2HYK58'
    durable: true
    auto_delete: false
    ensure: 'present'
    before: rabbitmq_binding[logstash_exchange_zone1@logstash_queue_zone1@lr-hare]

rabbit::rabbitmq_exchanges:
  'logstash_exchange_zone1@lr-hare':
    user: 'wabbit'
    password: 'CXTD6EMPJW2HYK58'
    type: 'direct'
    ensure: 'present'
    internal: false
    auto_delete: false
    durable: true
    before: rabbitmq_binding[logstash_exchange_zone1@logstash_queue_zone1@lr-hare]

rabbit::rabbitmq_bindings:
  'logstash_exchange_zone1@logstash_queue_zone1@lr-hare':
    user: 'wabbit'
    password: 'CXTD6EMPJW2HYK58'
    destination_type: 'queue'
    routing_key: 'T7GP7649PBRANMN3'
    ensure: 'present'
